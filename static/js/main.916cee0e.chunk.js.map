{"version":3,"sources":["images/weapon.png","audio/start.mp3","audio/countSound.mp3","audio/shotEnemy.mp3","audio/shotPlayer.mp3","MainWindow.js","OrientationWindow.js","App.tsx","reportWebVitals.ts","index.tsx"],"names":["MainWindow","state","isChecked","alpha","beta","gamma","isDown","isCounting","counted","enemyShot","playerShot","phoneDownEventListener","event","setState","phoneShootEventListener","shotPlayerAudio","onended","play","then","requestPermission","DeviceOrientationEvent","response","alert","startGame","startAudio","Audio","startSound","load","volume","countAudio","countSound","shotEnemyAudio","shotEnemy","shotPlayer","prevProps","prevState","snapshot","this","window","addEventListener","pause","currentTime","removeEventListener","setTimeout","to","className","src","weapon","alt","onClick","React","Component","OrientationWindow","x","y","z","getPermission","DeviceMotionEvent","acceleration","Object","keys","map","key","toFixed","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.916cee0e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/weapon.6a8a9d28.png\";","export default __webpack_public_path__ + \"static/media/start.8725ac69.mp3\";","export default __webpack_public_path__ + \"static/media/countSound.a7461cf8.mp3\";","export default __webpack_public_path__ + \"static/media/shotEnemy.bcbd11bf.mp3\";","export default __webpack_public_path__ + \"static/media/shotPlayer.d698c123.mp3\";","import React from \"react\";\nimport './App.css';\nimport './MainWindow.css';\nimport {Redirect} from \"react-router-dom\";\nimport weapon from'./images/weapon.png';\nimport startSound from \"./audio/start.mp3\";\nimport countSound from './audio/countSound.mp3';\nimport shotEnemy from './audio/shotEnemy.mp3';\nimport shotPlayer from './audio/shotPlayer.mp3';\n\n/*\nTODO: Fix falschstart, add death sound, add endgame sound, check shoot speed on android, reverse gun.\n */\n\nclass MainWindow extends React.Component {\n    state = {\n        isChecked: false,\n        alpha: 0,\n        beta: 0,\n        gamma: 0,\n        isDown: false,\n        isCounting: false,\n        counted: false,\n        enemyShot: false,\n        playerShot: false,\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if(this.state.isChecked && !prevState.isChecked) {\n            this.startAudio.play().then(() => {\n            });\n            window.addEventListener(\"deviceorientation\", this.phoneDownEventListener);\n        }\n\n        if (!this.state.isCounting && this.state.isDown && !this.state.counted) {\n            this.startAudio.pause();\n            this.startAudio.currentTime = 0;\n            this.countAudio.onended = () => this.setState({counted: true})\n            this.countAudio.play().then();\n            this.setState({isCounting: true});\n        }\n\n        if(this.state.isCounting && !this.state.isDown && !this.state.counted) {\n            this.countAudio.pause();\n            this.countAudio.currentTime = 0;\n            this.startAudio.play().then();\n            this.setState({isCounting: false});\n        }\n\n        if(this.state.counted && !prevState.counted) {\n            window.removeEventListener(\"deviceorientation\", this.phoneDownEventListener);\n            window.addEventListener(\"deviceorientation\", this.phoneShootEventListener);\n            setTimeout(() => {\n                this.shotEnemyAudio.onended = () =>this.setState({enemyShot: true});\n                this.shotEnemyAudio.play().then();\n            }, 700);\n        }\n    }\n\n    phoneDownEventListener = (event) => {\n        if(event.beta < -80 && event.beta > -100 && !this.state.isDown) {\n            this.setState({isDown: true})\n\n        }\n        else if((event.beta > -80 || event.beta < -100) &&this.state.isDown) {\n            this.setState({isDown: false});\n        }\n    }\n\n    phoneShootEventListener = (event) => {\n        if(!this.state.playerShot && ((event.beta > 0 && event.beta < 10) || (event.beta < -170 && event.beta > -180))) {\n            this.shotPlayerAudio.onended = () => this.setState({playerShot: true});\n            this.shotPlayerAudio.play().then();\n        }\n    }\n\n\n    requestPermission = () => {\n        if(typeof(DeviceOrientationEvent) !== \"undefined\"){\n            if(typeof(DeviceOrientationEvent.requestPermission) === \"function\") {\n                DeviceOrientationEvent.requestPermission()\n                    .then(response => {\n                        if (response !== \"granted\") {\n                            alert('Sorry, you cannot play this game.');\n                            return false;\n                        }\n                    });\n            }\n        }\n        return true;\n    }\n    startGame = () => {\n        if(this.requestPermission()) {\n            this.startAudio = new Audio(startSound);\n            this.startAudio.load();\n            this.startAudio.volume = 1;\n            this.countAudio = new Audio(countSound);\n            this.countAudio.load();\n            this.countAudio.volume = 1;\n            this.shotEnemyAudio = new Audio(shotEnemy);\n            this.shotEnemyAudio.load();\n            this.shotEnemyAudio.volume = 1;\n            this.shotPlayerAudio = new Audio(shotPlayer);\n            this.shotPlayerAudio.load();\n            this.shotPlayerAudio.volume = 1;\n            this.setState({isChecked: true});\n\n        }\n    }\n\n    render() {\n        if(this.state.enemyShot) {\n            window.removeEventListener('deviceorientation', this.phoneShootEventListener);\n            if(this.state.playerShot) {\n                return <Redirect to='/won'/>;\n            }\n            else {\n                return <Redirect to='/lost'/>;\n            }\n        }\n        return (\n            <div className=\"space\">\n\n                {this.state.isChecked?\n                    <div>\n                        <img src={weapon} alt=\"Weapon\" className=\"weapon\"/>\n                    </div>\n                :\n                    <div>\n                        <button className=\"start-button\" onClick={this.startGame}>Press to start</button>\n                    </div>\n                }\n            </div>\n        )\n    }\n}\n\nexport default MainWindow;","import React from \"react\";\nimport './App.css';\nimport './OrientationWindow.css';\n\nclass OrientationWindow extends React.Component {\n    state = {\n        alpha: 0,\n        beta: 0,\n        gamma: 0,\n        x: 0,\n        y: 0,\n        z: 0,\n    }\n\n    getPermission = () => {\n        if(typeof( DeviceOrientationEvent ) !== \"undefined\" ) {\n            if (typeof (DeviceOrientationEvent.requestPermission) === \"function\") {\n                DeviceOrientationEvent.requestPermission()\n                    .then(response => {\n                        // (optional) Do something after API prompt dismissed.\n                        alert(\"Orientation resp \" + response);\n                        if (response === \"granted\") {\n                            window.addEventListener(\"deviceorientation\", (event) => {\n                                this.setState({\n                                    alpha: event.alpha,\n                                    beta: event.beta,\n                                    gamma: event.gamma\n                                })\n                            })\n                        }\n                    });\n            }\n            window.addEventListener(\"deviceorientation\", (event) => {\n                this.setState({\n                    alpha: event.alpha,\n                    beta: event.beta,\n                    gamma: event.gamma\n                })\n            })\n        }\n        if(typeof( DeviceMotionEvent ) !== \"undefined\" ) {\n            if(typeof( DeviceMotionEvent.requestPermission ) === \"function\") {\n                DeviceMotionEvent.requestPermission()\n                    .then(response => {\n                        // (optional) Do something after API prompt dismissed.\n                        alert(\"Motion resp \" + response);\n                        if (response === \"granted\") {\n                            window.addEventListener(\"devicemotion\", (event) => {\n                                this.setState({\n                                    x: event.acceleration.x,\n                                    y: event.acceleration.y,\n                                    z: event.acceleration.z\n                                })\n                            });\n                        }\n                    });\n                window.addEventListener(\"devicemotion\", (event) => {\n                    this.setState({\n                        x: event.acceleration.x,\n                        y: event.acceleration.y,\n                        z: event.acceleration.z\n                    })\n                });\n            }\n        }\n    }\n\n\n    render() {\n        return(\n            <div className=\"space\">\n                <h5>x,y,z are acceleration variables.</h5>\n                <h5>Alpha, beta and gamma are deltas between device axes and coordinate axes</h5>\n                {Object.keys(this.state).map((key)  =>\n                <div className=\"data-wrapper\">\n                    <span>{key}</span>\n                    <span>{this.state[key].toFixed(2)}</span>\n                </div>\n                )}\n                <button onClick={this.getPermission}>Press me</button>\n            </div>\n        )\n    }\n}\n\nexport default OrientationWindow;","import React from 'react';\nimport './App.css';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link\n} from \"react-router-dom\";\nimport MainWindow from \"./MainWindow\";\nimport OrientationWindow from \"./OrientationWindow\";\n\nfunction App() {\n  return (\n      <Router>\n          <Switch>\n              <Route path=\"/game\">\n                  <MainWindow />\n              </Route>\n              <Route path=\"/orientation\">\n                  <OrientationWindow />\n              </Route>\n              <Route path=\"/won\">\n                  <div className=\"space\">\n                      <h1>You won!</h1>\n                      <Link className='button' to=\"/game\">Play again</Link>\n                  </div>\n\n              </Route>\n              <Route path=\"/lost\">\n                  <div className=\"space\">\n                      <h1>You lost!</h1>\n                      <Link className='button' to=\"/game\">Play again</Link>\n                  </div>\n              </Route>\n              <Route path=\"/\">\n                  <div className=\"space\">\n                      <Link className='button' to=\"/game\">Game</Link>\n                      <Link className='button' to=\"/orientation\">Tests</Link>\n                  </div>\n              </Route>\n\n          </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}